{% extends "base.html" %}
{% block title %}
    SimplyTransport - Stops
{% endblock title %}
{% block content %}
    <div class="narrow-container">
        <h1 class="dots-flashing-flex">
            Stop Search
            {% include "widgets/dots_flashing.html" %}
            <div class="dot-flashing"></div>
        </h1>
        <p class="dense-text">
            Searches <span class="code-highlight">names</span> \ <span class="code-highlight">codes</span> where either start with your search term
        </p>
        <div class="input-with-loader">
            <input class="search-box"
                   hx-get="/search/stops?pageSize=20"
                   hx-trigger="keyup[target.value.length > 0] changed delay:200ms, search"
                   hx-target="#stop-search-results"
                   hx-swap="innerhtml transition:true"
                   type="search"
                   name="search"
                   placeholder="Search..."
                   hx-indicator=".htmx-indicator">
            <span class="htmx-indicator">
                <img class="loader-svg"
                     src="/static/loader.svg"
                     width="30px"
                     height="30px"
                     alt="Loading spinner">
            </span>
        </div>
        <div class="inner-container">
            <div id="stop-search-results">
                <table class="table-search" aria-label="Search Results">
                    <thead>
                        <tr>
                            <th class="dense-text">Stop Name</th>
                            <th class="dense-text">Stop Code</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Waiting for your search ðŸ˜Š</td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button class="route-link-button dense-text" id="location-request-button">Stops nearby ðŸ‘€</button>
    </div>
    {% include "widgets/request_location.html" %}
{% endblock content %}
